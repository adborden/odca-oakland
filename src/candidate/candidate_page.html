<div class="container candidate-page">
  <div class="candidate-profile">
    <h2>{{ $ctrl.candidate.name }}</h2>
    <div class="candidate-profile__info">
      <div class="candidate-profile__photo">
        <img ng-src="{{ $ctrl.candidate | candidate_photo }}" alt="{{ $ctrl.candidate.name }}">
      </div>
      <div class="candidate-profile__info-content">
        <div ng-if="$ctrl.candidate.is_incumbent" class="text-serif text-grey-4">Incumbent</div>
        <div class="candidate-profile__website"><a ng-href="{{ $ctrl.candidate.website_url }}">{{ $ctrl.candidate.website_url }}</a></div>
        <div class="candidate-profile__twitter"><a ng-href="https://twitter.com/{{ $ctrl.candidate.twitter_url }}">{{ $ctrl.candidate.twitter_url }}</a></div>
      </div>
    </div>
    <div class="candidate-profile__bio">{{ $ctrl.candidate.bio }}</div>
  </div>
  <div>
    <div class="divided-section">
      <div class="candidate__money candidate__money--contributions">
        <span class="candidate__money-header">Contributions</span>
        <span class="money">{{ $ctrl.supporting.total_contributions | default:0 | dollar }}</span>
      </div>
      <div class="candidate__money candidate__money--expenditures">
        <span class="candidate__money-header">Expenditures</span>
        <span class="money">{{ $ctrl.supporting.total_expenditures | default:0 | dollar }}</span>
      </div>
      <div class="candidate__money candidate__money--loans">
        <span class="candidate__money-header">Loans</span>
        <span class="money">{{ $ctrl.supporting.total_loans_received | default:0 | dollar }}</span>
      </div>
      <div class="candidate__money candidate__money--current-balance">
        <span class="candidate__money-header">Current balance</span>
        <span class="money">{{ $ctrl.current_balance | default:0 | dollar }}</span>
      </div>
    </div>
  </div>
  <div class="divided-section is-off-screen" when-visible="$ctrl.onVisible">
    <span class="text-serif text-grey-4">Money coming in</span>
    <h3>Contributions</h3>
    <div>
      <div class="component__heading" ng-repeat-start="(label, amount) in $ctrl.supporting.contributions_by_type">{{ label }}</div>
      <money-bar value="{{ amount }}" max="{{ $ctrl.supporting.total_contributions }}" format="percentage" color="green" ng-repeat-end></money-bar>
    </div>
  </div>
  <div class="divided-section is-off-screen" when-visible="$ctrl.onVisible">
    <span class="text-serif text-grey-4">Money going out</span>
    <h3>Expenditures</h3>
    <div>
      <div class="component__heading" ng-repeat-start="(label, amount) in $ctrl.supporting.expenditures_by_type">{{ label }}</div>
      <money-bar value="{{ amount }}" max="{{ $ctrl.supporting.total_expenditures }}" format="money" color="red" ng-repeat-end></money-bar>
    </div>
  </div>
</div>
